{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Note.jsx","components/CreateArea.jsx","components/App.jsx","index.js"],"names":["require","config","Header","props","useState","clicked","isclicked","name","password","email","cred","updatecred","user","setUser","loginOrSignUp","setlogin","loginStatus","setLoginStatus","passwordStatus","setpassStatus","axios","defaults","withCredentials","useEffect","get","then","res","data","google","accounts","id","initialize","client_id","process","callback","handleCredentialResponse","prompt","catch","err","console","log","response","post","getData","shut","e","target","triggerLogin","preventDefault","handlecred","value","prev","renderButton","document","getElementById","theme","size","onClick","src","picture","className","alt","signOut","disableAutoSelect","onSubmit","htmlFor","type","onChange","autoComplete","Footer","year","Date","getFullYear","Note","title","content","onremove","CreateArea","React","note","setNote","isClicked","handle","event","addEventListener","checktitle","closest","placeholder","rows","Zoom","in","onAdd","App","notes","setNotes","userData","setUserData","noteslen","setNotesLen","_id","deleteNote","noteId","length","map","x","key","ReactDOM","render"],"mappings":"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","file":"static/js/main.21d6d04f.chunk.js","sourcesContent":["/*global google*/\nimport React,{useState,useEffect} from \"react\";\nimport axios from \"axios\";\nrequire(\"dotenv\").config();\n\nfunction Header(props) {\n  var [clicked,isclicked]=useState(false);\n  var [cred,updatecred]=useState({name:\"\",password:\"\",email:\"\"});\n  var [user,setUser]=useState({});\n  var [loginOrSignUp,setlogin]=useState(\"login\");\n  var [loginStatus,setLoginStatus]=useState(false);\n  var [passwordStatus,setpassStatus]=useState(false);\n  const Client_Id=process.env.REACT_APP_CLIENT_ID;\n  axios.defaults.withCredentials=true;\n  useEffect(()=>{\n    axios.get(\"/login\").then(res=> {\n      \n      if(res.data===\"no\"){\n        google.accounts.id.initialize({\n          client_id: Client_Id,\n          callback: handleCredentialResponse\n        }); \n        google.accounts.id.prompt(); \n      }\n      else{\n        setUser(res.data);\n        setLoginStatus(true);\n      }\n    }).catch(err=>console.log(err));\n    \n  },[])\n\n  const handleCredentialResponse=async response=>{\n      await axios.post(\"/Glogin\",response).then(res=>{\n        props.getData(res.data);\n        setUser(res.data);\n      }).catch(err=> console.log(err));\n      isclicked(false);\n      setLoginStatus(true);\n    }\n    \n  const shut=async (e)=>{\n        const check=e.target.id;\n        if(check===\"modelDiv\"){\n            isclicked(false);\n            setpassStatus(false);\n            setlogin(\"login\");\n            updatecred({name:\"\",password:\"\",email:\"\"});\n          }\n  }\n  \n  const triggerLogin=async (e)=>{\n      e.preventDefault();\n      await axios.post(loginOrSignUp===\"login\"? \"/login\":\"/signup\",cred).then(response=>{\n        if(response.data!==\"wrong\"){\n        props.getData(response.data);\n        setUser(response.data);\n        setLoginStatus(true);\n        setpassStatus(false);\n        isclicked(false);\n      }\n        else{\n          setpassStatus(true);\n        }\n      }).catch(err=> console.log(err));\n      \n      updatecred({name:\"\",email:\"\",password:\"\"});\n  }\n\n  const handlecred=(e)=>{\n      var {name,value}=e.target;\n      updatecred(prev=>({...prev,[name]:value}));\n  }\n  const handleLogin=(e)=>{\n      setlogin(e.target.value);\n  }\n  const checkCookie=()=>{\n    isclicked(true);\n    \n  }\n\n  const makeDefault=()=>{\n    setLoginStatus(false);\n    props.signOut();\n    axios.get(\"/signout\").then(res=>console.log(res.data)).catch(err=> console.log(err));\n    google.accounts.id.disableAutoSelect();\n    isclicked(false);\n  }\n  useEffect(()=>{\n    google.accounts.id.initialize({\n        client_id: \"768229132762-5mhr41tc287d787lblssb5ma7ra2qi5n.apps.googleusercontent.com\",\n        callback: handleCredentialResponse\n    });\n    google.accounts.id.renderButton(\n        document.getElementById(\"buttonDiv\"),\n        { theme: \"dark\", size: \"large\", data:\"use\" }  // customization attributes\n    );\n},[clicked]);\n\n  return (\n    <header>\n      <h1>Keeper</h1>\n      <div onClick={checkCookie}>{loginStatus? <h3><span><img src={user.picture}></img></span>\n                                                {user.name}</h3>\n                                                :<h3 id=\"modelCard\" >Login</h3>}</div>\n      {clicked && <div id=\"modelDiv\" className=\"modelContainer\" onClick={shut}>\n        <div  className=\"model\" id=\"mainModel\" >\n        {!loginStatus? <>\n          <button className=\"close\" onClick={()=> isclicked(false)}>X</button>\n          <h1 className=\"modelHeading\">Login/SignUp</h1>\n          <form className=\"modelForm\" onSubmit={triggerLogin}>\n            {loginOrSignUp === \"signup\" && <>\n            <label className=\"namelabel\" htmlFor=\"name\" >Name : </label>\n            <input className=\"modelInput\" name=\"name\" type=\"text\" onChange={handlecred} value={cred.name} autoComplete=\"off\"  /><br/>\n            </>}\n            <label className=\"emaillabel\" htmlFor=\"emial\" >email : </label>\n            <input className=\"modelInput\" name=\"email\" type=\"email\" onChange={handlecred} value={cred.email} autoComplete=\"off\"  /><br/>\n            <label className=\"passwordlabel\" htmlFor=\"password\"> Password : </label>\n            <input className=\"modelInput\" name=\"password\" type=\"password\" onChange={handlecred} value={cred.password} autoComplete=\"off\" /><br/>\n            {passwordStatus && <p className=\"invalid\">Invalid email/password</p>}\n            <button className=\"login\" type=\"submit\" onClick={handleLogin} value={loginOrSignUp} >{loginOrSignUp}</button>\n            <a className=\"signup\" onClick={()=>{\n              loginOrSignUp===\"login\"? setlogin(\"signup\"):setlogin(\"login\");\n              updatecred({name:\"\",email:\"\",password:\"\"});\n              }}> {loginOrSignUp===\"login\"? \"signup\":\"login\"} </a>\n            <div id=\"buttonDiv\" className=\"Gbutton\"></div>\n          </form>\n            </>:\n            <div className=\"AfterLogin\">\n            <img src={user.picture} alt=\"image\"></img>\n            <hr />\n            <h2 className=\"name\">Name : {user.name}</h2>\n            <h2>email : {user.email}</h2>\n            <button onClick={makeDefault}>SignOut</button>\n            </div>\n            }\n        </div>\n      </div>}\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer>\n      <p>Copyright ⓒ {year}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nfunction Note(props) {\n\n  function removeNote(){\n    props.onremove(props.id);\n    console.log(props.id);\n  }\n\n  return (\n    <div className=\"note\">\n      <h1>{props.title}</h1>\n      <p>{props.content}</p>\n      <button onClick={removeNote}> <DeleteIcon /> </button>\n    </div>\n  );\n}\n\nexport default Note;\n","import React from \"react\";\nimport Zoom from '@material-ui/core/Zoom';\n\nfunction CreateArea(props) {\n  \n  var [note,setNote]=React.useState({title:\"\",content:\"\"});\n  var [clicked,isClicked]=React.useState(false);\n  \n  function handle(event){\n    const {name,value}=event.target;\n    setNote({...note,[name]:value});\n  }\n  function submit(event){\n    event.preventDefault();\n    props.onAdd(note);\n    isClicked(false);\n    setNote({title:\"\",content:\"\"});\n  }\n  document.addEventListener(\"click\",(e)=>{\n    const checktitle=e.target.closest(\"#clicktitle\");\n    const checkcontent=e.target.closest(\"#contentbox\");\n    if(!checkcontent && !checktitle) isClicked(false);\n  })\n\n  return (\n    <div>\n      <form className=\"mainForm\" >\n        <input id=\"clicktitle\" onChange={handle} name=\"title\" value={note.title} onClick={()=> isClicked(!clicked)} placeholder=\"Title\" />\n        {clicked && <textarea id=\"contentbox\" onChange={handle} name=\"content\" value={note.content} placeholder=\"Take a note...\" rows=\"3\" />}\n        {clicked && <Zoom in={true}>\n          <button type=\"submit\" onClick={submit}>+</button>\n        </Zoom>}\n      </form>\n    </div>\n  );\n}\n\nexport default CreateArea;\n","import React, { useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Note from \"./Note\";\nimport CreateArea from \"./CreateArea\";\nimport axios from \"axios\";\n\nfunction App() {\n  var [notes,setNotes]=React.useState([]);\n  var [userData,setUserData]=React.useState({});\n  var [noteslen,setNotesLen]=React.useState(0);\n  axios.defaults.withCredentials=true;\n  React.useEffect(()=>{\n    if(userData.email)\n    axios.post(\"/api\",{email:userData.email}).then(response=> {\n      setNotes(response.data.data);\n      console.log();\n    }).catch(err=> console.log(err));\n  },[userData]);\n\n  \n  async function addNotes(note){\n    await axios.post(\"/addNote\",{...note,id:userData._id}).then(response=> {\n      console.log(response.data);\n    }).catch(err=> console.log(err));\n    await axios.post(\"/api\",{email:userData.email}).then(response=> {\n      setNotes(response.data.data);\n    }).catch(err=> console.log(err));\n    console.log(\"Notes-\",notes);\n  }\n  async function deleteNote(id){\n    await axios.post(\"/delete\",{...userData,noteId:id}).then(response=> console.log(\"delete-note-res-\",response.data)).catch(err=> console.log(err));\n    await axios.post(\"/api\",{email:userData.email}).then(response=> {\n      console.log(\"updated in delete\");\n      setNotes(response.data.data);\n    }).catch(err=> console.log(err));\n    console.log(\"Notes-\",notes);\n  }\n\n  const getUserData=(data)=>{\n    console.log(\"from app\",data.email);\n    setUserData(data);\n  }\n\n  const removeData=()=>{\n    setNotes([]);\n  }\n  useEffect(()=>{\n    setNotesLen(notes.length);\n  },[noteslen]);\n\n  return (\n    <div >\n      <Header getData={getUserData} signOut={removeData}/>\n      <CreateArea onAdd={addNotes} />\n      {notes? notes.map((x)=> <Note key={x._id} id={x._id} title={x.title} content={x.content} onremove={deleteNote} />):<></>}\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />,document.getElementById(\"root\"));"],"sourceRoot":""}